# CyberSaathi v2.0

CyberSaathi is a cybersecurity news aggregation, analysis, and presentation system that provides actionable insights for security professionals.

## Features

- **Web Scraping:** Collects the latest cybersecurity articles from trusted sources like The Hacker News and CyberNews.
- **AI-Powered Analysis:** Uses LLama 3.2 3b to generate summaries and actionable security tips.
- **Firebase Firestore Integration:** Stores all scraped data and AI-generated content for future reference.
- **Web Interface:** Visualizes all content in a clean, organized dashboard.

## Getting Started

### Prerequisites

1. Python 3.7 or higher
2. Firebase project with Firestore enabled
3. Ollama with llama3.2:3b model installed
4. Chrome/Chromium browser with ChromeDriver for web scraping

### Firebase Setup

1. Go to the [Firebase Console](https://console.firebase.google.com/)
2. Create a new project or select an existing one
3. Enable Firestore Database in your project
4. Go to Project Settings > Service Accounts
5. Click "Generate new private key" and download the JSON file
6. Keep this file secure - it contains sensitive credentials

### Installation

1. Clone the repository
2. Install required packages:
   ```
   pip install -r requirements.txt
   ```
3. Set up your Firebase connection:
   - Copy `.env.template` to `.env`:
     ```
     cp .env.template .env
     ```
   - Edit the `.env` file and update `FIREBASE_SERVICE_ACCOUNT` with the path to your Firebase service account JSON file
4. Test the Firebase connection:
   ```
   python test_firebase_storage.py
   ```
   This will verify that your Firebase credentials are working correctly.

## Troubleshooting Firebase Connection

If you encounter issues with Firebase:

1. Make sure your service account file path is correct in the `.env` file
2. Verify the JSON file contains all required fields (type, project_id, private_key_id, etc.)
3. Check that your Firebase project has Firestore enabled
4. Ensure your service account has proper permissions (Editor role)
5. Try running `test_firebase_storage.py` to diagnose specific issues

## Usage

### Complete Pipeline

Run the complete pipeline (scraping, summarization, CISO tips generation, and web interface):

```
python main.py
```

### Options

- `--limit N`: Set maximum number of articles to scrape from each source (default: 3)
- `--skip-scrape`: Skip the scraping step and use existing files
- `--skip-summaries`: Skip the article summarization step
- `--skip-tips`: Skip the CISO tips generation step
- `--skip-storage`: Skip storing data in Firebase Firestore
- `--skip-web`: Skip launching the web interface
- `--web-port N`: Set the port for the web interface (default: 5000)
- `--verbose`: Show detailed output

### Web Interface Only

To just launch the web interface without running the whole pipeline:

```
python launch_web_interface.py
```

The web interface will be available at http://localhost:5000 by default.

## Components

1. **Scraper.py**: Scrapes articles from cybersecurity news websites
2. **article_summarizer.py**: Generates concise summaries of articles using LLama 3.2
3. **ciso_tips_agent.py**: Creates actionable security tips from article content
4. **main.py**: Orchestrates the entire workflow
5. **web_interface.py**: Provides a browser-based dashboard for viewing content
6. **store_tips_summaries.py**: Stores processed data in Firebase Firestore
7. **launch_web_interface.py**: Launches just the web interface
8. **firebase_helper.py**: Provides Firebase Firestore utilities that match MongoDB's interface
9. **test_firebase_storage.py**: Tests Firebase connection and storage functionality

## Firebase Collections

The system uses several collections in Firebase Firestore:

1. **hackernews**: Articles scraped from The Hacker News
2. **cybernews**: Articles scraped from Cyber News
3. **tips**: Security tips generated for each article
4. **summaries**: Article summaries generated by the AI

Each document in these collections will have a unique `_id` field that matches across collections.

## Web Interface

The web interface provides three main views:

1. **Articles**: Shows all scraped articles
2. **Summaries**: Shows AI-generated summaries
3. **CISO Tips**: Shows actionable security recommendations

Click on any article to see its full details, summary, and security tips.

## Architecture

```
┌─────────────┐    ┌────────────────┐    ┌────────────┐
│ Web Scraper │───▶│ Article Storage│───▶│ Summarizer │
└─────────────┘    └────────────────┘    └────────────┘
                                               │
                                               ▼
┌─────────────┐    ┌────────────────┐    ┌────────────┐
│Web Interface│◀───│Firebase Storage│◀───│ CISO Tips  │
└─────────────┘    └────────────────┘    └────────────┘
```

## License

This project is licensed under the MIT License - see the LICENSE file for details.

## Acknowledgments

- LLama 3.2 for the AI capabilities
- The Hacker News and CyberNews for the security content
- Firebase Firestore for database support

## Migration Notes

CyberSaathi v2.0 has been fully migrated to use Firebase Firestore exclusively. All MongoDB references and dependencies have been removed from the codebase. The system now uses a unified storage system with Firebase Firestore for:

1. Storing scraped articles 
2. Storing AI-generated summaries
3. Storing security tips and recommendations

This change improves maintenance and consistency while reducing the dependencies required to run the system. 